interactions:
- request:
    body: ip=8.8.8.0%2F24&severity=no_access&comment=Google+DNS+is+ULTRA+BANNED
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate, br
      Authorization:
      - Bearer __MASTODON_PY_TEST_ACCESS_TOKEN_2
      Connection:
      - keep-alive
      Content-Length:
      - '69'
      Content-Type:
      - application/x-www-form-urlencoded
      User-Agent:
      - tests/v311
    method: POST
    uri: http://localhost:3000/api/v1/admin/ip_blocks
  response:
    body:
      string: '{"id":"1","ip":"8.8.8.0/24","severity":"no_access","comment":"Google
        DNS is ULTRA BANNED","created_at":"2025-11-06T21:19:04.820Z","expires_at":null}'
    headers:
      cache-control:
      - private, no-store
      content-length:
      - '148'
      content-security-policy:
      - default-src 'none'; frame-ancestors 'none'; form-action 'none'
      content-type:
      - application/json; charset=utf-8
      etag:
      - W/"4d2a36c528b1593d2c225dbd8e79e058"
      referrer-policy:
      - strict-origin-when-cross-origin
      server-timing:
      - cache_read.active_support;dur=0.02, sql.active_record;dur=14.15, cache_generate.active_support;dur=1.31,
        cache_write.active_support;dur=0.42, instantiation.active_record;dur=0.26,
        start_processing.action_controller;dur=0.01, start_transaction.active_record;dur=0.01,
        transaction.active_record;dur=14.84, cache_delete.active_support;dur=0.01,
        render.active_model_serializers;dur=0.19, process_action.action_controller;dur=63.09
      vary:
      - Authorization, Origin
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-permitted-cross-domain-policies:
      - none
      x-ratelimit-limit:
      - '300'
      x-ratelimit-remaining:
      - '299'
      x-ratelimit-reset:
      - '2025-11-06T21:20:00.802603Z'
      x-request-id:
      - 1ad9aa63-68c6-4ec0-91e4-e902cbd1d6d8
      x-runtime:
      - '0.102376'
      x-xss-protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate, br
      Authorization:
      - Bearer __MASTODON_PY_TEST_ACCESS_TOKEN_2
      Connection:
      - keep-alive
      User-Agent:
      - tests/v311
    method: GET
    uri: http://localhost:3000/api/v1/admin/ip_blocks/1
  response:
    body:
      string: '{"id":"1","ip":"8.8.8.0/24","severity":"no_access","comment":"Google
        DNS is ULTRA BANNED","created_at":"2025-11-06T21:19:04.820Z","expires_at":null}'
    headers:
      cache-control:
      - private, no-store
      content-length:
      - '148'
      content-security-policy:
      - default-src 'none'; frame-ancestors 'none'; form-action 'none'
      content-type:
      - application/json; charset=utf-8
      etag:
      - W/"4d2a36c528b1593d2c225dbd8e79e058"
      referrer-policy:
      - strict-origin-when-cross-origin
      server-timing:
      - cache_read.active_support;dur=0.02, sql.active_record;dur=1.26, cache_generate.active_support;dur=1.12,
        cache_write.active_support;dur=0.08, instantiation.active_record;dur=0.21,
        start_processing.action_controller;dur=0.00, render.active_model_serializers;dur=0.28,
        process_action.action_controller;dur=36.83
      vary:
      - Authorization, Origin
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-permitted-cross-domain-policies:
      - none
      x-ratelimit-limit:
      - '300'
      x-ratelimit-remaining:
      - '299'
      x-ratelimit-reset:
      - '2025-11-06T21:20:00.933728Z'
      x-request-id:
      - efe6a407-588b-41cc-919c-8445ea02f406
      x-runtime:
      - '0.072730'
      x-xss-protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate, br
      Authorization:
      - Bearer __MASTODON_PY_TEST_ACCESS_TOKEN_2
      Connection:
      - keep-alive
      User-Agent:
      - tests/v311
    method: GET
    uri: http://localhost:3000/api/v1/admin/ip_blocks
  response:
    body:
      string: '[{"id":"1","ip":"8.8.8.0/24","severity":"no_access","comment":"Google
        DNS is ULTRA BANNED","created_at":"2025-11-06T21:19:04.820Z","expires_at":null}]'
    headers:
      cache-control:
      - private, no-store
      content-length:
      - '150'
      content-security-policy:
      - default-src 'none'; frame-ancestors 'none'; form-action 'none'
      content-type:
      - application/json; charset=utf-8
      etag:
      - W/"44ffe3bd3e9d7017c3052e79d830710a"
      link:
      - <http://localhost:3000/api/v1/admin/ip_blocks?min_id=1>; rel="prev"
      referrer-policy:
      - strict-origin-when-cross-origin
      server-timing:
      - cache_read.active_support;dur=0.03, sql.active_record;dur=2.44, cache_generate.active_support;dur=1.30,
        cache_write.active_support;dur=0.09, instantiation.active_record;dur=3.12,
        start_processing.action_controller;dur=0.01, render.active_model_serializers;dur=0.29,
        process_action.action_controller;dur=33.70
      vary:
      - Authorization, Origin
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-permitted-cross-domain-policies:
      - none
      x-ratelimit-limit:
      - '300'
      x-ratelimit-remaining:
      - '299'
      x-ratelimit-reset:
      - '2025-11-06T21:20:00.017536Z'
      x-request-id:
      - 5e9f32b5-e2c8-4430-9b93-32f91c4e0a19
      x-runtime:
      - '0.056123'
      x-xss-protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: id=1&comment=Updated+test+block
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate, br
      Authorization:
      - Bearer __MASTODON_PY_TEST_ACCESS_TOKEN_2
      Connection:
      - keep-alive
      Content-Length:
      - '31'
      Content-Type:
      - application/x-www-form-urlencoded
      User-Agent:
      - tests/v311
    method: PUT
    uri: http://localhost:3000/api/v1/admin/ip_blocks/1
  response:
    body:
      string: '{"id":"1","ip":"8.8.8.0/24","severity":"no_access","comment":"Updated
        test block","created_at":"2025-11-06T21:19:04.820Z","expires_at":null}'
    headers:
      cache-control:
      - private, no-store
      content-length:
      - '140'
      content-security-policy:
      - default-src 'none'; frame-ancestors 'none'; form-action 'none'
      content-type:
      - application/json; charset=utf-8
      etag:
      - W/"72a640136c7316d775607f180cb3fae7"
      referrer-policy:
      - strict-origin-when-cross-origin
      server-timing:
      - cache_read.active_support;dur=0.03, sql.active_record;dur=11.65, cache_generate.active_support;dur=1.06,
        cache_write.active_support;dur=0.08, instantiation.active_record;dur=0.27,
        start_processing.action_controller;dur=0.00, unpermitted_parameters.action_controller;dur=0.00,
        start_transaction.active_record;dur=0.01, transaction.active_record;dur=11.35,
        cache_delete.active_support;dur=0.02, render.active_model_serializers;dur=0.24,
        process_action.action_controller;dur=43.30
      vary:
      - Authorization, Origin
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-permitted-cross-domain-policies:
      - none
      x-ratelimit-limit:
      - '300'
      x-ratelimit-remaining:
      - '299'
      x-ratelimit-reset:
      - '2025-11-06T21:20:00.098233Z'
      x-request-id:
      - aa43f3b0-8e20-47a1-961a-d683c2f23693
      x-runtime:
      - '0.062526'
      x-xss-protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate, br
      Authorization:
      - Bearer __MASTODON_PY_TEST_ACCESS_TOKEN_2
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      User-Agent:
      - tests/v311
    method: DELETE
    uri: http://localhost:3000/api/v1/admin/ip_blocks/1
  response:
    body:
      string: '{}'
    headers:
      cache-control:
      - private, no-store
      content-length:
      - '2'
      content-security-policy:
      - default-src 'none'; frame-ancestors 'none'; form-action 'none'
      content-type:
      - application/json; charset=utf-8
      etag:
      - W/"44136fa355b3678a1146ad16f7e8649e"
      referrer-policy:
      - strict-origin-when-cross-origin
      server-timing:
      - cache_read.active_support;dur=0.03, sql.active_record;dur=10.95, cache_generate.active_support;dur=1.23,
        cache_write.active_support;dur=0.09, instantiation.active_record;dur=0.44,
        start_processing.action_controller;dur=0.00, start_transaction.active_record;dur=0.01,
        transaction.active_record;dur=9.54, cache_delete.active_support;dur=0.01,
        render.active_model_serializers;dur=0.04, process_action.action_controller;dur=44.34
      vary:
      - Authorization, Origin
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-permitted-cross-domain-policies:
      - none
      x-ratelimit-limit:
      - '300'
      x-ratelimit-remaining:
      - '299'
      x-ratelimit-reset:
      - '2025-11-06T21:20:00.188135Z'
      x-request-id:
      - 49ec2a60-3665-45c5-970e-569065f2eb04
      x-runtime:
      - '0.062660'
      x-xss-protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate, br
      Authorization:
      - Bearer __MASTODON_PY_TEST_ACCESS_TOKEN_2
      Connection:
      - keep-alive
      User-Agent:
      - tests/v311
    method: GET
    uri: http://localhost:3000/api/v1/admin/ip_blocks
  response:
    body:
      string: '[]'
    headers:
      cache-control:
      - private, no-store
      content-length:
      - '2'
      content-security-policy:
      - default-src 'none'; frame-ancestors 'none'; form-action 'none'
      content-type:
      - application/json; charset=utf-8
      etag:
      - W/"4f53cda18c2baa0c0354bb5f9a3ecbe5"
      referrer-policy:
      - strict-origin-when-cross-origin
      server-timing:
      - cache_read.active_support;dur=0.02, sql.active_record;dur=1.11, cache_generate.active_support;dur=1.08,
        cache_write.active_support;dur=0.07, instantiation.active_record;dur=0.20,
        start_processing.action_controller;dur=0.00, render.active_model_serializers;dur=0.04,
        process_action.action_controller;dur=28.51
      vary:
      - Authorization, Origin
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-permitted-cross-domain-policies:
      - none
      x-ratelimit-limit:
      - '300'
      x-ratelimit-remaining:
      - '299'
      x-ratelimit-reset:
      - '2025-11-06T21:20:00.276570Z'
      x-request-id:
      - d6892635-a620-4dae-9128-c30f7a1fe20a
      x-runtime:
      - '0.046401'
      x-xss-protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate, br
      Authorization:
      - Bearer __MASTODON_PY_TEST_ACCESS_TOKEN_2
      Connection:
      - keep-alive
      User-Agent:
      - tests/v311
    method: GET
    uri: http://localhost:3000/api/v1/admin/ip_blocks
  response:
    body:
      string: '[]'
    headers:
      cache-control:
      - private, no-store
      content-length:
      - '2'
      content-security-policy:
      - default-src 'none'; frame-ancestors 'none'; form-action 'none'
      content-type:
      - application/json; charset=utf-8
      etag:
      - W/"4f53cda18c2baa0c0354bb5f9a3ecbe5"
      referrer-policy:
      - strict-origin-when-cross-origin
      server-timing:
      - cache_read.active_support;dur=0.02, sql.active_record;dur=1.37, cache_generate.active_support;dur=2.13,
        cache_write.active_support;dur=0.10, instantiation.active_record;dur=0.19,
        start_processing.action_controller;dur=0.00, render.active_model_serializers;dur=0.04,
        process_action.action_controller;dur=27.90
      vary:
      - Authorization, Origin
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-permitted-cross-domain-policies:
      - none
      x-ratelimit-limit:
      - '300'
      x-ratelimit-remaining:
      - '299'
      x-ratelimit-reset:
      - '2025-11-06T21:20:00.350540Z'
      x-request-id:
      - bf4dce91-24bf-4988-8f04-5a21471b2f82
      x-runtime:
      - '0.047459'
      x-xss-protection:
      - '0'
    status:
      code: 200
      message: OK
version: 1
