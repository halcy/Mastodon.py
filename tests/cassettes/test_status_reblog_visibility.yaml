interactions:
- request:
    body: status=Toot%2C+finally%21
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate, br
      Authorization:
      - Bearer __MASTODON_PY_TEST_ACCESS_TOKEN_3
      Connection:
      - keep-alive
      Content-Length:
      - '25'
      Content-Type:
      - application/x-www-form-urlencoded
      User-Agent:
      - tests/v311
    method: POST
    uri: http://localhost:3000/api/v1/statuses
  response:
    body:
      string: '{"id":"115504851453095609","created_at":"2025-11-06T21:22:44.017Z","in_reply_to_id":null,"in_reply_to_account_id":null,"sensitive":false,"spoiler_text":"","visibility":"public","language":"ja","uri":"http://localhost:3000/ap/users/115504821463996159/statuses/115504851453095609","url":"http://localhost:3000/@mastodonpy_test_2/115504851453095609","replies_count":0,"reblogs_count":0,"favourites_count":0,"quotes_count":0,"edited_at":null,"favourited":false,"reblogged":false,"muted":false,"bookmarked":false,"pinned":false,"content":"\u003cp\u003eToot,
        finally!\u003c/p\u003e","filtered":[],"reblog":null,"application":{"name":"Mastodon.py
        test suite","website":null},"account":{"id":"115504821463996159","username":"mastodonpy_test_2","acct":"mastodonpy_test_2","display_name":"","locked":false,"bot":false,"discoverable":true,"indexable":true,"group":false,"created_at":"2025-11-06T00:00:00.000Z","note":"","url":"http://localhost:3000/@mastodonpy_test_2","uri":"http://localhost:3000/ap/users/115504821463996159","avatar":"http://localhost:3000/avatars/original/missing.png","avatar_static":"http://localhost:3000/avatars/original/missing.png","header":"http://localhost:3000/headers/original/missing.png","header_static":"http://localhost:3000/headers/original/missing.png","followers_count":0,"following_count":0,"statuses_count":35,"last_status_at":"2025-11-06","hide_collections":null,"noindex":false,"emojis":[],"roles":[],"fields":[]},"media_attachments":[],"mentions":[],"tags":[],"emojis":[],"quote":null,"card":null,"poll":null,"quote_approval":{"automatic":["public"],"manual":[],"current_user":"automatic"}}'
    headers:
      cache-control:
      - private, no-store
      content-length:
      - '1621'
      content-security-policy:
      - default-src 'none'; frame-ancestors 'none'; form-action 'none'
      content-type:
      - application/json; charset=utf-8
      etag:
      - W/"605dff89e6102ed5dec67f100c67fa37"
      referrer-policy:
      - strict-origin-when-cross-origin
      server-timing:
      - cache_read.active_support;dur=0.05, sql.active_record;dur=16.08, cache_generate.active_support;dur=3.14,
        cache_write.active_support;dur=0.13, instantiation.active_record;dur=0.40,
        start_processing.action_controller;dur=0.00, start_transaction.active_record;dur=0.00,
        transaction.active_record;dur=8.54, render.active_model_serializers;dur=12.59,
        process_action.action_controller;dur=67.23
      vary:
      - Authorization, Origin
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-permitted-cross-domain-policies:
      - none
      x-ratelimit-limit:
      - '300'
      x-ratelimit-remaining:
      - '233'
      x-ratelimit-reset:
      - '2025-11-07T00:00:00.053746Z'
      x-request-id:
      - 6a20b03d-a9f9-4ed8-aab1-ceca730a85ec
      x-runtime:
      - '0.084721'
      x-xss-protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: status=bwooh%21+secret&visibility=private
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate, br
      Authorization:
      - Bearer __MASTODON_PY_TEST_ACCESS_TOKEN
      Connection:
      - keep-alive
      Content-Length:
      - '41'
      Content-Type:
      - application/x-www-form-urlencoded
      User-Agent:
      - tests/v311
    method: POST
    uri: http://localhost:3000/api/v1/statuses
  response:
    body:
      string: '{"id":"115504851462797752","created_at":"2025-11-06T21:22:44.165Z","in_reply_to_id":null,"in_reply_to_account_id":null,"sensitive":false,"spoiler_text":"","visibility":"private","language":"ja","uri":"http://localhost:3000/ap/users/115504821318011161/statuses/115504851462797752","url":"http://localhost:3000/@mastodonpy_test/115504851462797752","replies_count":0,"reblogs_count":0,"favourites_count":0,"quotes_count":0,"edited_at":null,"favourited":false,"reblogged":false,"muted":false,"bookmarked":false,"pinned":false,"content":"\u003cp\u003ebwooh!
        secret\u003c/p\u003e","filtered":[],"reblog":null,"application":{"name":"Mastodon.py
        test suite","website":null},"account":{"id":"115504821318011161","username":"mastodonpy_test","acct":"mastodonpy_test","display_name":"John
        Lennon","locked":true,"bot":false,"discoverable":null,"indexable":false,"group":false,"created_at":"2025-11-06T00:00:00.000Z","note":"\u003cp\u003eI
        walk funny\u003c/p\u003e","url":"http://localhost:3000/@mastodonpy_test","uri":"http://localhost:3000/ap/users/115504821318011161","avatar":"http://localhost:3000/system/accounts/avatars/115/504/821/318/011/161/original/b5d4efe356da6fc7.jpg","avatar_static":"http://localhost:3000/system/accounts/avatars/115/504/821/318/011/161/original/b5d4efe356da6fc7.jpg","header":"http://localhost:3000/system/accounts/headers/115/504/821/318/011/161/original/8bd773726703313d.jpg","header_static":"http://localhost:3000/system/accounts/headers/115/504/821/318/011/161/original/8bd773726703313d.jpg","followers_count":0,"following_count":0,"statuses_count":8,"last_status_at":"2025-11-06","hide_collections":null,"noindex":false,"emojis":[],"roles":[],"fields":[{"name":"bread","value":"toasty.","verified_at":null},{"name":"lasagna","value":"no!!!","verified_at":null}]},"media_attachments":[],"mentions":[],"tags":[],"emojis":[],"quote":null,"card":null,"poll":null,"quote_approval":{"automatic":[],"manual":[],"current_user":"automatic"}}'
    headers:
      cache-control:
      - private, no-store
      content-length:
      - '1957'
      content-security-policy:
      - default-src 'none'; frame-ancestors 'none'; form-action 'none'
      content-type:
      - application/json; charset=utf-8
      etag:
      - W/"5dcafb4874f1552fd9730dc6e855f696"
      referrer-policy:
      - strict-origin-when-cross-origin
      server-timing:
      - cache_read.active_support;dur=0.06, sql.active_record;dur=16.02, cache_generate.active_support;dur=3.23,
        cache_write.active_support;dur=0.13, instantiation.active_record;dur=0.38,
        start_processing.action_controller;dur=0.00, start_transaction.active_record;dur=0.00,
        transaction.active_record;dur=8.54, render.active_model_serializers;dur=13.80,
        process_action.action_controller;dur=66.01
      vary:
      - Authorization, Origin
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-permitted-cross-domain-policies:
      - none
      x-ratelimit-limit:
      - '300'
      x-ratelimit-remaining:
      - '233'
      x-ratelimit-reset:
      - '2025-11-07T00:00:00.200752Z'
      x-request-id:
      - 9c64e2ec-1e79-4648-9104-f34ed231ba48
      x-runtime:
      - '0.084258'
      x-xss-protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: visibility=unlisted
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate, br
      Authorization:
      - Bearer __MASTODON_PY_TEST_ACCESS_TOKEN
      Connection:
      - keep-alive
      Content-Length:
      - '19'
      Content-Type:
      - application/x-www-form-urlencoded
      User-Agent:
      - tests/v311
    method: POST
    uri: http://localhost:3000/api/v1/statuses/115504851462797752/reblog
  response:
    body:
      string: '{"id":"115504851472601149","created_at":"2025-11-06T21:22:44.317Z","in_reply_to_id":null,"in_reply_to_account_id":null,"sensitive":false,"spoiler_text":"","visibility":"private","language":null,"uri":"http://localhost:3000/ap/users/mastodonpy_test/statuses/115504851472601149/activity","url":"http://localhost:3000/users/mastodonpy_test/statuses/115504851472601149/activity","replies_count":0,"reblogs_count":0,"favourites_count":0,"quotes_count":0,"edited_at":null,"favourited":false,"reblogged":true,"muted":false,"bookmarked":false,"content":"","filtered":[],"reblog":{"id":"115504851462797752","created_at":"2025-11-06T21:22:44.165Z","in_reply_to_id":null,"in_reply_to_account_id":null,"sensitive":false,"spoiler_text":"","visibility":"private","language":"ja","uri":"http://localhost:3000/ap/users/115504821318011161/statuses/115504851462797752","url":"http://localhost:3000/@mastodonpy_test/115504851462797752","replies_count":0,"reblogs_count":1,"favourites_count":0,"quotes_count":0,"edited_at":null,"favourited":false,"reblogged":true,"muted":false,"bookmarked":false,"pinned":false,"content":"\u003cp\u003ebwooh!
        secret\u003c/p\u003e","filtered":[],"reblog":null,"application":{"name":"Mastodon.py
        test suite","website":null},"account":{"id":"115504821318011161","username":"mastodonpy_test","acct":"mastodonpy_test","display_name":"John
        Lennon","locked":true,"bot":false,"discoverable":null,"indexable":false,"group":false,"created_at":"2025-11-06T00:00:00.000Z","note":"\u003cp\u003eI
        walk funny\u003c/p\u003e","url":"http://localhost:3000/@mastodonpy_test","uri":"http://localhost:3000/ap/users/115504821318011161","avatar":"http://localhost:3000/system/accounts/avatars/115/504/821/318/011/161/original/b5d4efe356da6fc7.jpg","avatar_static":"http://localhost:3000/system/accounts/avatars/115/504/821/318/011/161/original/b5d4efe356da6fc7.jpg","header":"http://localhost:3000/system/accounts/headers/115/504/821/318/011/161/original/8bd773726703313d.jpg","header_static":"http://localhost:3000/system/accounts/headers/115/504/821/318/011/161/original/8bd773726703313d.jpg","followers_count":0,"following_count":0,"statuses_count":9,"last_status_at":"2025-11-06","hide_collections":null,"noindex":false,"emojis":[],"roles":[],"fields":[{"name":"bread","value":"toasty.","verified_at":null},{"name":"lasagna","value":"no!!!","verified_at":null}]},"media_attachments":[],"mentions":[],"tags":[],"emojis":[],"quote":null,"card":null,"poll":null,"quote_approval":{"automatic":[],"manual":[],"current_user":"automatic"}},"application":null,"account":{"id":"115504821318011161","username":"mastodonpy_test","acct":"mastodonpy_test","display_name":"John
        Lennon","locked":true,"bot":false,"discoverable":null,"indexable":false,"group":false,"created_at":"2025-11-06T00:00:00.000Z","note":"\u003cp\u003eI
        walk funny\u003c/p\u003e","url":"http://localhost:3000/@mastodonpy_test","uri":"http://localhost:3000/ap/users/115504821318011161","avatar":"http://localhost:3000/system/accounts/avatars/115/504/821/318/011/161/original/b5d4efe356da6fc7.jpg","avatar_static":"http://localhost:3000/system/accounts/avatars/115/504/821/318/011/161/original/b5d4efe356da6fc7.jpg","header":"http://localhost:3000/system/accounts/headers/115/504/821/318/011/161/original/8bd773726703313d.jpg","header_static":"http://localhost:3000/system/accounts/headers/115/504/821/318/011/161/original/8bd773726703313d.jpg","followers_count":0,"following_count":0,"statuses_count":9,"last_status_at":"2025-11-06","hide_collections":null,"noindex":false,"emojis":[],"roles":[],"fields":[{"name":"bread","value":"toasty.","verified_at":null},{"name":"lasagna","value":"no!!!","verified_at":null}]},"media_attachments":[],"mentions":[],"tags":[],"emojis":[],"quote":null,"card":null,"poll":null,"quote_approval":{"automatic":[],"manual":[],"current_user":"automatic"}}'
    headers:
      cache-control:
      - private, no-store
      content-length:
      - '3838'
      content-security-policy:
      - default-src 'none'; frame-ancestors 'none'; form-action 'none'
      content-type:
      - application/json; charset=utf-8
      etag:
      - W/"4a0b2561925bda4ff8bf5e46dd16ab6a"
      referrer-policy:
      - strict-origin-when-cross-origin
      server-timing:
      - cache_read.active_support;dur=0.15, sql.active_record;dur=26.34, cache_generate.active_support;dur=3.36,
        cache_write.active_support;dur=0.14, instantiation.active_record;dur=0.66,
        start_processing.action_controller;dur=0.00, unpermitted_parameters.action_controller;dur=0.00,
        start_transaction.active_record;dur=0.01, transaction.active_record;dur=15.94,
        cache_fetch_hit.active_support;dur=0.00, render.active_model_serializers;dur=28.31,
        process_action.action_controller;dur=95.80
      vary:
      - Authorization, Origin
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-permitted-cross-domain-policies:
      - none
      x-ratelimit-limit:
      - '300'
      x-ratelimit-remaining:
      - '233'
      x-ratelimit-reset:
      - '2025-11-07T00:00:00.377143Z'
      x-request-id:
      - 20f65451-faf5-4a2d-a3d2-1737f3f5e1a1
      x-runtime:
      - '0.113678'
      x-xss-protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: visibility=unlisted
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate, br
      Authorization:
      - Bearer __MASTODON_PY_TEST_ACCESS_TOKEN_3
      Connection:
      - keep-alive
      Content-Length:
      - '19'
      Content-Type:
      - application/x-www-form-urlencoded
      User-Agent:
      - tests/v311
    method: POST
    uri: http://localhost:3000/api/v1/statuses/115504851453095609/reblog
  response:
    body:
      string: '{"id":"115504851486608589","created_at":"2025-11-06T21:22:44.532Z","in_reply_to_id":null,"in_reply_to_account_id":null,"sensitive":false,"spoiler_text":"","visibility":"unlisted","language":null,"uri":"http://localhost:3000/ap/users/mastodonpy_test_2/statuses/115504851486608589/activity","url":"http://localhost:3000/users/mastodonpy_test_2/statuses/115504851486608589/activity","replies_count":0,"reblogs_count":0,"favourites_count":0,"quotes_count":0,"edited_at":null,"favourited":false,"reblogged":true,"muted":false,"bookmarked":false,"content":"","filtered":[],"reblog":{"id":"115504851453095609","created_at":"2025-11-06T21:22:44.017Z","in_reply_to_id":null,"in_reply_to_account_id":null,"sensitive":false,"spoiler_text":"","visibility":"public","language":"ja","uri":"http://localhost:3000/ap/users/115504821463996159/statuses/115504851453095609","url":"http://localhost:3000/@mastodonpy_test_2/115504851453095609","replies_count":0,"reblogs_count":1,"favourites_count":0,"quotes_count":0,"edited_at":null,"favourited":false,"reblogged":true,"muted":false,"bookmarked":false,"pinned":false,"content":"\u003cp\u003eToot,
        finally!\u003c/p\u003e","filtered":[],"reblog":null,"application":{"name":"Mastodon.py
        test suite","website":null},"account":{"id":"115504821463996159","username":"mastodonpy_test_2","acct":"mastodonpy_test_2","display_name":"","locked":false,"bot":false,"discoverable":true,"indexable":true,"group":false,"created_at":"2025-11-06T00:00:00.000Z","note":"","url":"http://localhost:3000/@mastodonpy_test_2","uri":"http://localhost:3000/ap/users/115504821463996159","avatar":"http://localhost:3000/avatars/original/missing.png","avatar_static":"http://localhost:3000/avatars/original/missing.png","header":"http://localhost:3000/headers/original/missing.png","header_static":"http://localhost:3000/headers/original/missing.png","followers_count":0,"following_count":0,"statuses_count":36,"last_status_at":"2025-11-06","hide_collections":null,"noindex":false,"emojis":[],"roles":[],"fields":[]},"media_attachments":[],"mentions":[],"tags":[],"emojis":[],"quote":null,"card":null,"poll":null,"quote_approval":{"automatic":["public"],"manual":[],"current_user":"automatic"}},"application":null,"account":{"id":"115504821463996159","username":"mastodonpy_test_2","acct":"mastodonpy_test_2","display_name":"","locked":false,"bot":false,"discoverable":true,"indexable":true,"group":false,"created_at":"2025-11-06T00:00:00.000Z","note":"","url":"http://localhost:3000/@mastodonpy_test_2","uri":"http://localhost:3000/ap/users/115504821463996159","avatar":"http://localhost:3000/avatars/original/missing.png","avatar_static":"http://localhost:3000/avatars/original/missing.png","header":"http://localhost:3000/headers/original/missing.png","header_static":"http://localhost:3000/headers/original/missing.png","followers_count":0,"following_count":0,"statuses_count":36,"last_status_at":"2025-11-06","hide_collections":null,"noindex":false,"emojis":[],"roles":[],"fields":[]},"media_attachments":[],"mentions":[],"tags":[],"emojis":[],"quote":null,"card":null,"poll":null,"quote_approval":{"automatic":["public"],"manual":[],"current_user":"automatic"}}'
    headers:
      cache-control:
      - private, no-store
      content-length:
      - '3169'
      content-security-policy:
      - default-src 'none'; frame-ancestors 'none'; form-action 'none'
      content-type:
      - application/json; charset=utf-8
      etag:
      - W/"b0144304ae6af4f34cabf9e87f79a105"
      referrer-policy:
      - strict-origin-when-cross-origin
      server-timing:
      - cache_read.active_support;dur=0.16, sql.active_record;dur=22.94, cache_generate.active_support;dur=4.00,
        cache_write.active_support;dur=0.13, instantiation.active_record;dur=0.79,
        start_processing.action_controller;dur=0.00, unpermitted_parameters.action_controller;dur=0.01,
        start_transaction.active_record;dur=0.01, transaction.active_record;dur=15.97,
        cache_fetch_hit.active_support;dur=0.01, render.active_model_serializers;dur=28.02,
        process_action.action_controller;dur=96.53
      vary:
      - Authorization, Origin
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-permitted-cross-domain-policies:
      - none
      x-ratelimit-limit:
      - '300'
      x-ratelimit-remaining:
      - '233'
      x-ratelimit-reset:
      - '2025-11-07T00:00:00.589293Z'
      x-request-id:
      - 86ad1b83-f21c-41bd-956b-2c7b4e024140
      x-runtime:
      - '0.115562'
      x-xss-protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate, br
      Authorization:
      - Bearer __MASTODON_PY_TEST_ACCESS_TOKEN_3
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      User-Agent:
      - tests/v311
    method: DELETE
    uri: http://localhost:3000/api/v1/statuses/115504851453095609
  response:
    body:
      string: '{"id":"115504851453095609","created_at":"2025-11-06T21:22:44.017Z","in_reply_to_id":null,"in_reply_to_account_id":null,"sensitive":false,"spoiler_text":"","visibility":"public","language":"ja","uri":"http://localhost:3000/ap/users/115504821463996159/statuses/115504851453095609","url":"http://localhost:3000/@mastodonpy_test_2/115504851453095609","replies_count":0,"reblogs_count":1,"favourites_count":0,"quotes_count":0,"edited_at":null,"favourited":false,"reblogged":false,"muted":false,"bookmarked":false,"pinned":false,"text":"Toot,
        finally!","filtered":[],"reblog":null,"application":{"name":"Mastodon.py test
        suite","website":null},"account":{"id":"115504821463996159","username":"mastodonpy_test_2","acct":"mastodonpy_test_2","display_name":"","locked":false,"bot":false,"discoverable":true,"indexable":true,"group":false,"created_at":"2025-11-06T00:00:00.000Z","note":"","url":"http://localhost:3000/@mastodonpy_test_2","uri":"http://localhost:3000/ap/users/115504821463996159","avatar":"http://localhost:3000/avatars/original/missing.png","avatar_static":"http://localhost:3000/avatars/original/missing.png","header":"http://localhost:3000/headers/original/missing.png","header_static":"http://localhost:3000/headers/original/missing.png","followers_count":0,"following_count":0,"statuses_count":35,"last_status_at":"2025-11-06","hide_collections":null,"noindex":false,"emojis":[],"roles":[],"fields":[]},"media_attachments":[],"mentions":[],"tags":[],"emojis":[],"quote":null,"card":null,"poll":null,"quote_approval":{"automatic":["public"],"manual":[],"current_user":"automatic"}}'
    headers:
      cache-control:
      - private, no-store
      content-length:
      - '1591'
      content-security-policy:
      - default-src 'none'; frame-ancestors 'none'; form-action 'none'
      content-type:
      - application/json; charset=utf-8
      etag:
      - W/"b801ad51801fa6624c9fcc39d4f0d16e"
      referrer-policy:
      - strict-origin-when-cross-origin
      server-timing:
      - cache_read.active_support;dur=0.06, sql.active_record;dur=12.32, cache_generate.active_support;dur=3.59,
        cache_write.active_support;dur=0.15, instantiation.active_record;dur=0.66,
        start_processing.action_controller;dur=0.00, start_transaction.active_record;dur=0.00,
        transaction.active_record;dur=4.57, render.active_model_serializers;dur=18.82,
        process_action.action_controller;dur=62.18
      vary:
      - Authorization, Origin
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-permitted-cross-domain-policies:
      - none
      x-ratelimit-limit:
      - '30'
      x-ratelimit-remaining:
      - '29'
      x-ratelimit-reset:
      - '2025-11-06T21:30:00.727582Z'
      x-request-id:
      - 8bc972e6-ade1-465e-8761-51893c08a608
      x-runtime:
      - '0.079840'
      x-xss-protection:
      - '0'
    status:
      code: 200
      message: OK
version: 1
