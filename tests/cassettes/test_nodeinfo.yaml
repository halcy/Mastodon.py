interactions:
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate, br
      Authorization:
      - Bearer __MASTODON_PY_TEST_ACCESS_TOKEN
      Connection:
      - keep-alive
      User-Agent:
      - tests/v311
    method: GET
    uri: http://localhost:3000/.well-known/nodeinfo
  response:
    body:
      string: '{"links":[{"rel":"http://nodeinfo.diaspora.software/ns/schema/2.0","href":"http://localhost:3000/nodeinfo/2.0"}]}'
    headers:
      Content-Length:
      - '113'
      cache-control:
      - max-age=259200, public
      content-security-policy:
      - 'base-uri ''none''; default-src ''none''; frame-ancestors ''none''; font-src
        ''self'' http://localhost:3000; img-src ''self'' data: blob: http://localhost:3000;
        media-src ''self'' data: http://localhost:3000; manifest-src ''self'' http://localhost:3000;
        form-action ''self''; child-src ''self'' blob: http://localhost:3000; worker-src
        ''self'' blob: http://localhost:3000; connect-src ''self'' data: blob: http://localhost:3000
        ws://localhost:4000 ws://localhost:3036 http://localhost:3036; script-src
        ''self'' ''unsafe-inline'' ''unsafe-eval'' http://localhost:3000; frame-src
        ''self'' https: http:; style-src ''self'' http://localhost:3000 ''unsafe-inline''
        ''nonce-mLi7MELlyX+jsaiJ43HpBQ=='''
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 17 Aug 2025 18:42:44 GMT
      etag:
      - W/"30113ea20db19da6a25dac6491c2351e"
      referrer-policy:
      - strict-origin-when-cross-origin
      server-timing:
      - cache_read.active_support;dur=0.05, sql.active_record;dur=0.17, cache_generate.active_support;dur=0.87,
        cache_write.active_support;dur=0.07, start_processing.action_controller;dur=0.01,
        render.active_model_serializers;dur=0.25, process_action.action_controller;dur=25.75
      vary:
      - Origin
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-permitted-cross-domain-policies:
      - none
      x-request-id:
      - 403c3e71-2359-4ba9-a71a-54670db07875
      x-runtime:
      - '0.047120'
      x-xss-protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate, br
      Authorization:
      - Bearer __MASTODON_PY_TEST_ACCESS_TOKEN
      Connection:
      - keep-alive
      User-Agent:
      - tests/v311
    method: GET
    uri: http://localhost:3000/nodeinfo/2.0
  response:
    body:
      string: '{"version":"2.0","software":{"name":"mastodon","version":"4.4.3"},"protocols":["activitypub"],"services":{"outbound":[],"inbound":[]},"usage":{"users":{"total":4,"activeMonth":0,"activeHalfyear":0},"localPosts":5},"openRegistrations":true,"metadata":{"nodeName":"Mastodon","nodeDescription":""}}'
    headers:
      Content-Length:
      - '295'
      cache-control:
      - max-age=1800, public
      content-security-policy:
      - 'base-uri ''none''; default-src ''none''; frame-ancestors ''none''; font-src
        ''self'' http://localhost:3000; img-src ''self'' data: blob: http://localhost:3000;
        media-src ''self'' data: http://localhost:3000; manifest-src ''self'' http://localhost:3000;
        form-action ''self''; child-src ''self'' blob: http://localhost:3000; worker-src
        ''self'' blob: http://localhost:3000; connect-src ''self'' data: blob: http://localhost:3000
        ws://localhost:4000 ws://localhost:3036 http://localhost:3036; script-src
        ''self'' ''unsafe-inline'' ''unsafe-eval'' http://localhost:3000; frame-src
        ''self'' https: http:; style-src ''self'' http://localhost:3000 ''unsafe-inline''
        ''nonce-ePtUBzYbED8gxeF3+JBxOw=='''
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 17 Aug 2025 18:42:44 GMT
      etag:
      - W/"b6982b764a0fd2cd2cab69096f805da4"
      referrer-policy:
      - strict-origin-when-cross-origin
      server-timing:
      - cache_read.active_support;dur=0.12, sql.active_record;dur=1.05, cache_generate.active_support;dur=5.94,
        cache_write.active_support;dur=0.19, start_processing.action_controller;dur=0.01,
        instantiation.active_record;dur=0.04, render.active_model_serializers;dur=5.95,
        process_action.action_controller;dur=31.31
      vary:
      - Accept, Origin
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-permitted-cross-domain-policies:
      - none
      x-request-id:
      - fa0eedd2-ae9b-4af6-8ebd-4dcd2e12e425
      x-runtime:
      - '0.050310'
      x-xss-protection:
      - '0'
    status:
      code: 200
      message: OK
version: 1
