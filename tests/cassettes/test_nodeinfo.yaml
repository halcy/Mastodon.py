interactions:
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate, br
      Authorization:
      - Bearer __MASTODON_PY_TEST_ACCESS_TOKEN
      Connection:
      - keep-alive
      User-Agent:
      - tests/v311
    method: GET
    uri: http://localhost:3000/.well-known/nodeinfo
  response:
    body:
      string: '{"links":[{"rel":"http://nodeinfo.diaspora.software/ns/schema/2.0","href":"http://localhost:3000/nodeinfo/2.0"}]}'
    headers:
      cache-control:
      - max-age=259200, public
      content-length:
      - '113'
      content-security-policy:
      - 'base-uri ''none''; default-src ''none''; frame-ancestors ''none''; font-src
        ''self'' http://localhost:3000; img-src ''self'' data: blob: http://localhost:3000;
        media-src ''self'' data: http://localhost:3000; manifest-src ''self'' http://localhost:3000;
        form-action ''self''; child-src ''self'' blob: http://localhost:3000; worker-src
        ''self'' blob: http://localhost:3000; connect-src ''self'' data: blob: http://localhost:3000
        ws://localhost:4000 ws://localhost:3036 http://localhost:3036; script-src
        ''self'' ''unsafe-inline'' ''unsafe-eval'' http://localhost:3000; frame-src
        ''self'' https: http:; style-src ''self'' http://localhost:3000 ''unsafe-inline''
        ''nonce-Sgcxj1I/pckssX57eBlqsg=='''
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 06 Nov 2025 21:19:52 GMT
      etag:
      - W/"30113ea20db19da6a25dac6491c2351e"
      referrer-policy:
      - strict-origin-when-cross-origin
      server-timing:
      - cache_read.active_support;dur=0.05, sql.active_record;dur=0.22, cache_generate.active_support;dur=1.05,
        cache_write.active_support;dur=0.07, start_processing.action_controller;dur=0.01,
        render.active_model_serializers;dur=0.26, process_action.action_controller;dur=25.75
      vary:
      - Origin
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-permitted-cross-domain-policies:
      - none
      x-request-id:
      - ee50541d-163c-4d48-8010-d7bad1d0b048
      x-runtime:
      - '0.046921'
      x-xss-protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate, br
      Authorization:
      - Bearer __MASTODON_PY_TEST_ACCESS_TOKEN
      Connection:
      - keep-alive
      User-Agent:
      - tests/v311
    method: GET
    uri: http://localhost:3000/nodeinfo/2.0
  response:
    body:
      string: '{"version":"2.0","software":{"name":"mastodon","version":"4.5.0"},"protocols":["activitypub"],"services":{"outbound":[],"inbound":[]},"usage":{"users":{"total":4,"activeMonth":0,"activeHalfyear":0},"localPosts":5},"openRegistrations":true,"metadata":{"nodeName":"Mastodon","nodeDescription":""}}'
    headers:
      cache-control:
      - max-age=1800, public
      content-length:
      - '295'
      content-security-policy:
      - 'base-uri ''none''; default-src ''none''; frame-ancestors ''none''; font-src
        ''self'' http://localhost:3000; img-src ''self'' data: blob: http://localhost:3000;
        media-src ''self'' data: http://localhost:3000; manifest-src ''self'' http://localhost:3000;
        form-action ''self''; child-src ''self'' blob: http://localhost:3000; worker-src
        ''self'' blob: http://localhost:3000; connect-src ''self'' data: blob: http://localhost:3000
        ws://localhost:4000 ws://localhost:3036 http://localhost:3036; script-src
        ''self'' ''unsafe-inline'' ''unsafe-eval'' http://localhost:3000; frame-src
        ''self'' https: http:; style-src ''self'' http://localhost:3000 ''unsafe-inline''
        ''nonce-tBqgNFAmOjbQvX/TlOjLqQ=='''
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 06 Nov 2025 21:19:52 GMT
      etag:
      - W/"93b99c0c680b4ac382c0ccc231e76d11"
      referrer-policy:
      - strict-origin-when-cross-origin
      server-timing:
      - cache_read.active_support;dur=0.11, sql.active_record;dur=1.22, cache_generate.active_support;dur=7.17,
        cache_write.active_support;dur=0.18, start_processing.action_controller;dur=0.00,
        instantiation.active_record;dur=0.07, render.active_model_serializers;dur=7.20,
        process_action.action_controller;dur=32.47
      vary:
      - Accept, Origin
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-permitted-cross-domain-policies:
      - none
      x-request-id:
      - d9d9ef91-8049-4aa9-987f-96716ccd9ff9
      x-runtime:
      - '0.049250'
      x-xss-protection:
      - '0'
    status:
      code: 200
      message: OK
version: 1
